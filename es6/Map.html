<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if(!e)return localStorage.setItem('theme','light'),d.add('light');if("system"===e){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else d.add(e)}catch(e){}}()</script><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><title>Untitled – Nextra</title><style>html{font-family:Inter,sans-serif}@supports(font-variation-settings:normal){html{font-family:'Inter var',sans-serif}}</style><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="前端笔记"/><meta name="apple-mobile-web-app-title" content="前端笔记"/><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/53f80c644f4a979b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/53f80c644f4a979b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-d7b038a63b619762.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-779b41245c009d2a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a8238235e6f33374.js" defer=""></script><script src="/_next/static/chunks/847-96744f83d8d59742.js" defer=""></script><script src="/_next/static/chunks/pages/es6/Map-acb47cb55277509d.js" defer=""></script><script src="/_next/static/VrNR1pypJP3w-cLn9QZYR/_buildManifest.js" defer=""></script><script src="/_next/static/VrNR1pypJP3w-cLn9QZYR/_ssgManifest.js" defer=""></script><script src="/_next/static/VrNR1pypJP3w-cLn9QZYR/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="nextra-container main-container flex flex-col"><nav class="flex items-center bg-white z-20 fixed top-0 left-0 right-0 h-16 border-b border-gray-200 px-6 dark:bg-dark dark:border-gray-900 bg-opacity-[.97] dark:bg-opacity-100"><div class="w-full flex items-center mr-2"><a class="no-underline text-current inline-flex items-center hover:opacity-75" href="/"><span class="mr-2 font-extrabold hidden md:inline">Nextra</span><span class="text-gray-600 font-normal hidden md:inline">The Next Docs Builder</span></a></div><div class="flex-1"><div class="hidden md:inline-block mr-2"><div class="relative w-full nextra-search md:w-64"><div class="relative flex items-center"><input type="search" class="block w-full px-3 py-2 leading-tight border rounded appearance-none focus:outline-none focus:ring" placeholder="Search documentation..." spellcheck="false"/><div class="hidden sm:flex absolute inset-y-0 right-0 py-1.5 pr-1.5"><kbd class="inline-flex items-center px-2 font-sans text-sm font-medium text-gray-400 dark:text-gray-800 dark:border-gray-800 border rounded">/</kbd></div></div></div></div></div><button class="text-current p-2 cursor-pointer focus:ring outline-none" aria-label="Toggle theme"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision" aria-hidden="true"></svg></button><button class="block md:hidden p-2"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div class="-mr-2"></div></nav><div class="flex flex-1 h-full"><aside class="fixed h-screen bg-white dark:bg-dark flex-shrink-0 w-full md:w-64 md:sticky z-20 hidden md:block" style="top:4rem;height:calc(100vh - 4rem)"><div class="sidebar border-gray-200 dark:border-gray-900 w-full p-4 pb-40 md:pb-16 h-full overflow-y-auto"><div class="mb-4 block md:hidden"><div class="relative w-full nextra-search md:w-64"><div class="relative flex items-center"><input type="search" class="block w-full px-3 py-2 leading-tight border rounded appearance-none focus:outline-none focus:ring" placeholder="Search documentation..." spellcheck="false"/><div class="hidden sm:flex absolute inset-y-0 right-0 py-1.5 pr-1.5"><kbd class="inline-flex items-center px-2 font-sans text-sm font-medium text-gray-400 dark:text-gray-800 dark:border-gray-800 border rounded">/</kbd></div></div></div></div><div class="hidden md:block"><ul><li class=""><button>Es6</button><div style="display:none"><ul><li class=""><a href="/es6/Class">Class</a></li><li class=""><a href="/es6/Intl">Intl</a></li><li class="active"><a href="/es6/Map">Map</a></li><li class=""><a href="/es6/Proxy">Proxy</a></li><li class=""><a href="/es6/Reflect">Reflect</a></li><li class=""><a href="/es6/Set">Set</a></li><li class=""><a href="/es6/Symbol">Symbol</a></li><li class=""><a href="/es6/WeakMap">Weakmap</a></li><li class=""><a href="/es6/WeakSet">Weakset</a></li></ul></div></li><li class=""><a href="/">Index</a></li></ul></div><div class="md:hidden"><ul><li class=""><button>Es6</button><div style="display:none"><ul><li class=""><a href="/es6/Class">Class</a></li><li class=""><a href="/es6/Intl">Intl</a></li><li class="active"><a href="/es6/Map">Map</a></li><li class=""><a href="/es6/Proxy">Proxy</a></li><li class=""><a href="/es6/Reflect">Reflect</a></li><li class=""><a href="/es6/Set">Set</a></li><li class=""><a href="/es6/Symbol">Symbol</a></li><li class=""><a href="/es6/WeakMap">Weakmap</a></li><li class=""><a href="/es6/WeakSet">Weakset</a></li></ul></div></li><li class=""><a href="/">Index</a></li></ul></div></div></aside><div id="reach-skip-nav" data-reach-skip-nav-content=""></div><article class="docs-container relative pt-16 pb-16 px-6 md:px-8 w-full max-w-full flex min-w-0"><main class="max-w-screen-md mx-auto pt-4 z-10 min-w-0 w-full"><ul>
<li>
<p>本质上是<strong>键值对</strong>的集合（Hash 结构），并且能够记住键的原始插入顺序</p>
</li>
<li>
<p>任何值(对象或者原始值) 都可以作为键或值</p>
</li>
<li>
<p>Map的键实际上是跟内存地址绑定的，只要内存地址不一样，就视为两个键</p>
</li>
<li>
<p>如果键是一个简单类型的值（数字、字符串、布尔值），则只要两个值严格相等，Map 将其视为一个键</p>
<pre><code class="prism-code language-javascript" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> map </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> keyObj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> </span><span class="token function-variable function">keyFunc</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> keyString </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;string&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 添加键</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token plain">keyString</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;和键&#x27;a string&#x27;关联的值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token plain">keyString</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token plain">keyObj</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;和键keyObj关联的值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token plain">keyFunc</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;和键keyFunc关联的值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span></div><div class="token-line"><span class="token plain">map</span><span class="token punctuation">.</span><span class="token property-access">size</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// 3</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 读取值</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token plain">keyString</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">    </span><span class="token comment" style="color:#999;font-style:italic">// x</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token plain">keyObj</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">       </span><span class="token comment" style="color:#999;font-style:italic">// &quot;和键keyObj关联的值&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token plain">keyFunc</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">      </span><span class="token comment" style="color:#999;font-style:italic">// &quot;和键keyFunc关联的值&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// x, 因为keyString === &#x27;string&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;string&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">   </span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// undefined, 因为keyObj !== {}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain">    </span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// undefined, 因为keyFunc !== function () {}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">map</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token keyword" style="color:#ff0078;font-weight:bold">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></code></pre>
<ul>
<li>将NaN作为Map的键（Map认为NaN等于自身，而精确相等运算符（===）认为NaN不等于自身）</li>
</ul>
<pre><code class="prism-code language-javascript" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> myMap </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myMap</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;not a number&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myMap</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;not a number11&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">myMap</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// &quot;not a number11&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">myMap</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// Number(&quot;foo&quot;) === NaN，&quot;not a number11&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// Map { NaN =&gt; &#x27;not a number11&#x27; }</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">myMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></code></pre>
</li>
<li>
<p>遍历取值</p>
<pre><code class="prism-code language-javascript" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> myMap </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myMap</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;zero&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myMap</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 0 = zero，1 = one</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword control-flow" style="color:#ff0078;font-weight:bold">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">,</span><span class="token plain"> value</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">of</span><span class="token plain"> myMap</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">key </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&quot; = &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 0,1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword control-flow" style="color:#ff0078;font-weight:bold">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> key </span><span class="token keyword" style="color:#ff0078;font-weight:bold">of</span><span class="token plain"> myMap</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">key</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// zero, one</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword control-flow" style="color:#ff0078;font-weight:bold">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> value </span><span class="token keyword" style="color:#ff0078;font-weight:bold">of</span><span class="token plain"> myMap</span><span class="token punctuation">.</span><span class="token method function property-access">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 0 = zero，1 = one</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword control-flow" style="color:#ff0078;font-weight:bold">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">,</span><span class="token plain"> value</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">of</span><span class="token plain"> myMap</span><span class="token punctuation">.</span><span class="token method function property-access">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">key </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&quot; = &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 0 = zero，1 = one</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myMap</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token keyword" style="color:#ff0078;font-weight:bold">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token parameter punctuation">,</span><span class="token parameter"> key</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">key </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&quot; = &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre>
</li>
<li>
<p>数组转换</p>
<pre><code class="prism-code language-javascript" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> kvArray </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;value2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 使用常规的Map构造函数可以将一个二维键值对数组转换成一个Map对象</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> myMap </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token plain">kvArray</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 返回值为 &quot;value2&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">myMap</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 使用Array.from函数可以将一个Map对象转换成一个二维键值对数组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 输出和kvArray相同的数组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Array</span><span class="token punctuation">.</span><span class="token keyword module" style="color:#ff0078;font-weight:bold">from</span><span class="token punctuation">(</span><span class="token plain">myMap</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 使用展开运算符</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:#999;font-style:italic">// 输出和kvArray相同的数组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">myMap</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></code></pre>
</li>
<li>
<p>复制</p>
<pre><code class="prism-code language-javascript" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> original </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;aaa&#x27;</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> clone </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token plain">original</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">clone</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#x27;bbb&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">original</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// aaa</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">clone</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// bbb</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">original </span><span class="token operator">===</span><span class="token plain"> clone</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// false</span></div></code></pre>
</li>
<li>
<p>合并</p>
<pre><code class="prism-code language-javascript" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> first </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;one&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;two&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;three&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> second </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;uno&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;dos&#x27;</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token comment" style="color:#999;font-style:italic">// Map对象同数组进行合并时，如果有重复的键值，则后面的会覆盖前面的。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> merged </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">first</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">second</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;eins&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">merged</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// eins</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">merged</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// dos</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">merged</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// three</span></div></code></pre>
</li>
<li>
<p>为Map设置对象属性也是可以的，但是它的行为会不符合预期</p>
<pre><code class="prism-code language-javascript" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">let</span><span class="token plain"> wrongMap </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">wrongMap</span><span class="token punctuation">[</span><span class="token string">&#x27;bla&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;blaa&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">wrongMap</span><span class="token punctuation">[</span><span class="token string">&#x27;bla2&#x27;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;blaaa2&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">wrongMap</span><span class="token punctuation">)</span><span class="token plain">  </span><span class="token comment" style="color:#999;font-style:italic">// Map { bla: &#x27;blaa&#x27;, bla2: &#x27;blaaa2&#x27; }</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">wrongMap</span><span class="token punctuation">.</span><span class="token method function property-access">has</span><span class="token punctuation">(</span><span class="token string">&#x27;bla&#x27;</span><span class="token punctuation">)</span><span class="token plain">    </span><span class="token comment" style="color:#999;font-style:italic">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">wrongMap</span><span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;bla&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">wrongMap</span><span class="token punctuation">)</span><span class="token plain">  </span><span class="token comment" style="color:#999;font-style:italic">// Map { bla: &#x27;blaa&#x27;, bla2: &#x27;blaaa2&#x27; }</span></div></code></pre>
</li>
</ul>
<h5><span class="subheading-anchor" id="map-vs-object"></span><a href="#map-vs-object" class="text-current no-underline no-outline">Map vs Object<span class="anchor-icon" aria-hidden="true">#</span></a></h5>
<div class="table-container"><table><thead><tr><th align="center"></th><th align="center">map</th><th align="center">object</th></tr></thead><tbody><tr><td align="center">意外的键</td><td align="center">默认情况不包含任何键</td><td align="center">Object原型链上的键名有可能和将要设置的键名产生冲突</td></tr><tr><td align="center">键的类型</td><td align="center">一个 Map的键可以是任意值，包括函数、对象或任意基本类型。</td><td align="center">一个Object 的键必须是一个 String 或是Symbol</td></tr><tr><td align="center">键的顺序</td><td align="center">Map 中的 key 是有序的。因此，当迭代的时候，一个 Map 对象以插入的顺序返回键值</td><td align="center">无序</td></tr><tr><td align="center">Size</td><td align="center">Map 的键值对个数可以轻易地通过size 属性获取</td><td align="center">Object 的键值对个数只能手动计算</td></tr><tr><td align="center">迭代</td><td align="center">Map 是 iterable 的，所以可以直接被迭代</td><td align="center">需要以某种方式获取它的键然后才能迭代</td></tr><tr><td align="center">性能</td><td align="center">在频繁增删键值对的场景下表现更好</td><td align="center"></td></tr></tbody></table></div><footer class="mt-24"><div class="flex flex-row items-center justify-between"><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center mr-2" title="Intl" href="/es6/Intl"><svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 rotate-180 mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>Intl</a></div><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center ml-2" title="Proxy" href="/es6/Proxy">Proxy<svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 ml-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></div><hr/><div class="mt-24 flex justify-between flex-col-reverse md:flex-row items-center md:items-end"><span class="text-gray-600">MIT 2022 © Nextra.</span><div class="mt-6"></div><a class="text-sm" href="https://github.com/shuding/nextra/blob/main/pages/es6/Map.md" target="_blank" rel="noreferrer">Edit this page</a></div></footer></main><div class="w-64 hidden xl:block text-sm pl-4"></div></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/es6/Map","query":{},"buildId":"VrNR1pypJP3w-cLn9QZYR","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>