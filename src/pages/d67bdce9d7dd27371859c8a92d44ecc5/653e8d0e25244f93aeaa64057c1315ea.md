---
title: CommonJS下使用esm模块
size: 500
---
使用默认导出
```js
// CommonJS 环境
const ReconnectingEventSource =
  require("reconnecting-eventsource").default || require("reconnecting-eventsource");

this.eventSource = new ReconnectingEventSource(this.url, {
  max_retry_time: 30000,
})
```

 `import()` 动态导入（Node ≥14）
```js
 (async () => {
  const { default: ReconnectingEventSource } = await import("reconnecting-eventsource");
  const es = new ReconnectingEventSource("https://...", { max_retry_time: 30000 });
})();
```
