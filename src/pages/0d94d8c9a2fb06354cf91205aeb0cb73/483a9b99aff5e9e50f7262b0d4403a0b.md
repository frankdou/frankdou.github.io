---
title: tips
date: 2022-04-29T01:43:43.989Z
size: 1255
---
##### props解构向下传参

```javascript
<Result {...result} query={query} />
```

##### input校验

```javascript
<input 
  className='input' 
  type="text"
  pattern="[0-9]*"
  value={query}
  placeholder="请输入
/>
```

##### debounce

```typescript
import { useRef, useEffect, useCallback } from 'react';

const useDebounce = <T extends (...args: any[]) => any>(
  fn: T,
  ms: number = 600,
) => {
  const timer = useRef<ReturnType<typeof setTimeout> | null>();
  const ref = useRef<T | null>(fn);

  useEffect(() => {
    ref.current = fn
  }, [fn])

  return useCallback((...args: any) => {
    if (timer.current) {
      clearTimeout(timer.current);
      timer.current = null;
    }

    timer.current = setTimeout(() => ref.current?.(...args), ms);
  }, [])
};

export default useDebounce;
```

https://gist.github.com/ca0v/73a31f57b397606c9813472f7493a940

https://github.com/xnimorz/use-debounce

https://juejin.cn/post/6969572789581938718

##### 初始化渲染判断

https://stackoverflow.com/questions/53179075/with-useeffect-how-can-i-skip-applying-an-effect-upon-the-initial-render

##### 取消之前的请求

https://stackoverflow.com/questions/53861916/canceling-an-axios-rest-call-in-react-hooks-useeffects-cleanup-failing

