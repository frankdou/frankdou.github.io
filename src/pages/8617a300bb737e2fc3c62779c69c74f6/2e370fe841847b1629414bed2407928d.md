---
title: singleExecutableApplications
size: 1689
---
在一些场景下，需要将nodejs打包为单个可执行程序，方便简单快速部署。

electron-builder
```json
package.json
{
	...
	"main": "src/electron.js",
	"scripts": {
		"start": "electron .",
		"build": "electron-builder",
		"build:win": "electron-builder --win --x64",
	},
	"build": {
        "appId": "com.electron.demo",
        // 应用名
        "productName": "ElectronApp",
        // 应用文件名
        "artifactName": "${productName}-${version}.${ext}",
        // 应用图标
        "icon": "./build/icon.png",
        "files": [
            "src/**/*",
            "package.json",
            ".env",
            ...
        ],
        // 拷贝的文件
        // 通过path.join(process.resourcesPath, ".env")读取该文件
        // mac系统process.resourcesPath路径为
		// /Applications/xxxx.app/Contents/Resources
        "extraResources": [
            {
                "from": ".env",
                "to": ".env"
            }
        ],
        "directories": {
            "output": "dist"
        },
        "mac": {
            "target": "dmg"
        },
        "win": {
            "target": "nsis"
        }
    },
	...
}
```

pkg
```json
package.json
{
    ...
    "bin": "src/index.js",
    "scripts": {
		...
        "build": "rm -f *.exe && pkg ."
        ...
    },
    "pkg": {
        "targets": [
            "node18-win-x64"
        ],
        "assets": [
            "public/**/*",
            ".env"
        ]
    },
    ...
}
```

refs
- https://github.com/vercel/pkg
- https://github.com/nexe/nexe
- https://github.com/electron-userland/electron-builder
- https://nodejs.org/api/single-executable-applications.html
