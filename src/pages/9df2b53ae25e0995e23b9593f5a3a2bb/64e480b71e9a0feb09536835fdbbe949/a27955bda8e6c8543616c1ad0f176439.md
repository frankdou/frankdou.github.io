---
title: import加载原理
date: 2023-04-24T10:29:03.321Z
size: 553
---
1. 解析导入的模块路径,得到模块标识符
2. 检查是否有缓存的模块实例。如果有,直接使用缓存的模块。
3. 加载模块。根据模块路径找到模块代码,使用适合的 loader 进行解析和转换,得到模块代码和模块资源(如图片)。
4. 递归解析依赖。导入的模块中可能还有 import,会递归进行依赖解析。
5. 实例化模块。使用模块代码和资源创建模块实例。
6. 执行模块实例的代码。得到模块导出内容(export)。
7. 缓存模块实例供下次使用
